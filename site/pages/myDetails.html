<!DOCTYPE html>

<html>
	<head>
		<title>Compu c: My Details</title>
		<link rel="stylesheet" type="text/css" href="../style.css" />
		<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico" />
	</head>
	
	<body>
		<!-- All elements in the header: header img, login box and button -->
		<div id="headerDiv">
			<img id="siteLogo" src="../images/site_logo.png" width=400 />
		</div>
		
		<!-- The bar with a list of buttons (links) to go to the other site's pages -->
		<div id="menubarDiv">
			<a href="../index.html">Home</a>
			<a href="../pages/shop.html">Shop</a>
			<a href="../pages/cart.html">Cart</a>
			My Details
		</div>
		
		<div id="signupDiv">
			<h2>Sign Up</h2>
			<table>
				<tr>
					<th>Name:</th>
					<td><input id="signupName" type="text"></input></td>
				</tr>
				
				<tr>
					<th>Password:</th>
					<td><input id="signupPassword" type="text"></input></td>
				</tr>
			</table>
			<button id="submitSignup">Sign Up</button>
		</div>
		
		<div id="loginDiv">
			<h2>Login</h2>
			<table>
				<tr>
					<th>Name:</th>
					<td><input id="loginName" type="text"></input></td>
				</tr>
				
				<tr>
					<th>Password:</th>
					<td><input id="loginPassword" type="text"></input></td>
				</tr>
			</table>
			<button id="login">Log in</button>
		</div>
		
		<div id="detailsDiv">
			<h1>placeholder for detailsDiv</h1>
		</div>
		
		<script>
			var signupDiv = document.getElementById("signupDiv");
			var loginDiv = document.getElementById("loginDiv");
			var detailsDiv = document.getElementById("detailsDiv");
			var signupNameBox = document.getElementById("signupName");
			var signupPwdBox = document.getElementById("signupPassword");
			var loginNameBox = document.getElementById("loginName");
			var loginPwdBox = document.getElementById("loginPassword");
			
			// Hide signup box and details box, show login box
			function loginMode()
			{
				signupDiv.style.display = "none";
				loginDiv.style.display = "block";
				detailsDiv.style.display = "none";
			}
			
			// Hide details box, show signup and login box
			function signupMode()
			{
				signupDiv.style.display = "block";
				loginDiv.style.display = "block";
				detailsDiv.style.display = "none";
			}
			
			// Hide signup box and login box, show details box
			function detailsMode()
			{
				signupDiv.style.display = "none";
				loginDiv.style.display = "none";
				detailsDiv.style.display = "block";
			}
			
			function onSignupButtonClicked()
			{
				// Create the account in localStorage for the person signing up
				var name = signupNameBox.value;
				var password = signupPwdBox.value;
				localStorage.setItem("name", name);
				localStorage.setItem("password", password);
				localStorage.setItem("loggedIn", "true");
				alert("Signup successful! You are now logged in.");
				
				// Clear and hide the signup box
				signupNameBox.value = "";
				signupPwdBox.value = "";
				
				loginMode();
			}
			
			function onLoginButtonClicked()
			{
				var name = signupNameBox.value;
				var password = signupPwdBox.value;
			}
			
			var signupButton = document.getElementById("submitSignup");
			var loginButton = document.getElementById("login");
			
			signupButton.addEventListener("click", onSignupButtonClicked);
			loginButton.addEventListener("click", onLoginButtonClicked);
			
			var accCreated = !(localStorage.getItem("name") === null);
			
			if (accCreated) {
				// Check if user is logged in
				var loggedIn = !(localStorage.getItem("loggedIn") === null);
				
			} else {
				// Show sign up page
				
			}
		</script>
		
	</body>
</html>