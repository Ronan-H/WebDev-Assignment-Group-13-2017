<!DOCTYPE html>
<html>
	<head>
		<title>Compu c</title>
		<link rel="stylesheet" type="text/css" href="../style.css" />
		<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico" />
	</head>
	<body>
		<!-- All elements in the header: header img, login box and button -->
		<div id="headerDiv">
			<img id="siteLogo" src="../images/site_logo.png" width=400 />
			
			<!-- Greeting displayed when the user is logged in -->
			<h2 id="greeting">Hello, NAME.</h2>
			
			<!-- Login box -->
			<div id="loginBoxDiv">
				<h2>Login</h2>
				<table>
					<tr>
						<th>Name:</th>
						<td><input id="nameBox" type="text"></input></td>
					</tr>
					
					<tr>
						<th>Password:</th>
						<td><input id="passwordBox" type="password"></input></td>
					</tr>
					
					<tr>
						<!-- Buttons -->
						<td></td>
						<td>
							<button id="loginButton">Log in</button>
						</td>
					</tr>
				</table>
			</div>
		</div>
			
		<!-- The bar with a list of buttons (links) to go to the other site's pages -->
		<div id="menubarDiv">
			<a href="../index.html">Home</a>
			Shop
			<a href="cart.html">Cart</a>
			<a href="myDetails.html">My Details</a>
		</div>
		
		<!-- A div containing every element below the menubar -->
		<div class="mainContent">
			<!-- The sidebar with a list of the types of products -->
			<div class="sidebarDiv">
				<a class="sidebarLink">Accesories</a>
				<a class="sidebarLink">Laptops</a>
				<a class="sidebarLink">Phones</a>
				<a class="sidebarLink">Televisions</a>
			</div>
			
			<!-- products div -->
			<div class="productsDiv">
				<div class="productCategoryDiv">
					<h1>Accessories</h1>
					<table style="display: inline-block;">
						<tr>
							<th><img src="../products/accessories/charger-1.png" alt="charger1" title="RAVPower 20,100 mAh Portable Charger" height="200"></th>
						</tr>
						<tr>
							<th>RAVPower 20,100 mAh Portable Charger</th>
						</tr>
						<tr>
							<th>
								€32.99 
							</th>
						</tr>
					</table>
					
					<table style="display: inline-block;">
						<tr>
							<th><img src="../products/accessories/charger-2.png" alt="charger2" title="EasyAcc iChoc 5000 mAh" height="200"></th>
						</tr>
						<tr>
							<th>EasyAcc iChoc 5000 mAh</th>
						</tr>
						<tr>
							<th>
								€13.99 
							</th>
						</tr>
					</table>
					
					<table style="display: inline-block;">
						<tr>
							<th><img src="../products/accessories/headphones-1.png" alt="headphones1" title="Skullcandy Hesh 2 Wireless Headphones" height="200"></th>
						</tr>
						<tr>
							<th>Skullcandy Hesh 2 Wireless Headphones</th>
						</tr>
						<tr>
							<th>
								€69.99 
							</th>
						</tr>
					</table>
					
					<table style="display: inline-block;">
						<tr>
							<th><img src="../products/accessories/headphones-2.png" alt="headphones2" title="Sony Folding Headphones Blue" height="200"></th>
						</tr>
						<tr>
							<th>Sony Folding Headphones Blue</th>
						</tr>
						<tr>
							<th>
								€39.99
							</th>
						</tr>
					</table>
					
					<table style="display: inline-block;">
						<tr>
							<th><img src="../products/accessories/usb-1.png" alt="usb1" title="USB flash drive" height="200"></th>
						</tr>
						<tr>
							<th>Toshiba TransMemory Silver USB flash drive</th>
						</tr>
						<tr>
							<th>
								€5.00
							</th>
						</tr>
					</table>
				</div>
					
				<div class="productCategoryDiv">
					<!--Laptops-->
					<h1>Laptops</h1>
					<table style="display: inline-block;">
						<tr>
							<th><img src="../products/laptops/AsusZenbook.png" alt="AsusZenbook" title="Asus Zenbook Flip" height="200"></th>
						</tr>
						<tr>
							<th>ASUS ZenBook Flip UX360CA 13.3" 2 in 1 - Grey</th>
						</tr>
						<tr>
							<th>
								€1,249.99
							</th>
						</tr>
					</table>
					
					<table style="display: inline-block;">
						<tr>
							<th><img src="../products/laptops/DellInspiron.png" alt="DellInspiron" title="DELL Inspiron Laptop - Gold" height="200"></th>
						</tr>
						<tr>
							<th>DELL Inspiron 15 7000 15.6" Laptop - Gold</th>
						</tr>
						<tr>
							<th>
								€1,049.99
							</th>
						</tr>
					</table>
					
					<table style="display: inline-block;">
						<tr>
							<th><img src="../products/laptops/HPenvy.png" alt="HPenvy" title="HP ENVY x360 15-aq055na" height="200"></th>
						</tr>
						<tr>
							<th>HP ENVY x360 15-aq055na 15.6" 2 in 1 - Silver</th>
						</tr>
						<tr>
							<th>
								€1,149.99
							</th>
						</tr>
					</table>
						
					<table style="display: inline-block;">
						<tr>
							<th><img src="../products/laptops/HpPavilion.png" alt="HpPavilion" title="HP Pavilion x360 13-u062sa" height="200"></th>
						</tr>
						<tr>
							<th>HP Pavilion x360 13-u062sa 13.3" 2 in 1 - Gold</th>
						</tr>
						<tr>
							<th>
								€819.99
							</th>
						</tr>
					</table>
					
					<table style="display: inline-block;">
						<tr>
							<th><img src="../products/laptops/LenovoYogaBook.png" alt="LenovoYogaBook" title="LENOVO YOGA Book 10.1" height="200"></th>
						</tr>
						<tr>
							<th>LENOVO YOGA Book 10.1" 2 in 1 - Black</th>
						</tr>
						<tr>
							<th>
								€749.99
							</th>
						</tr>
					</table>
				</div>
				
				<div class="productCategoryDiv">
					<h1>Mobile Phones</h1>
					<table style="display: inline-block;">
						<tr>
							<th><img src="../products/phones/iPhone-6s.jpg" alt="iPhone-6s" title="iPhone-6s" height="200"></th>
						</tr>
						<tr>
							<th>iPhone-6s</th>
						</tr>
						<tr>
							<th>
								€759.00
							</th>
						</tr>
					</table>
					
					<table style="display: inline-block;">
						<tr>
							<th><img src="../products/phones/iPhone-6sPlus.jpg" alt="iPhone-6sPlus" title="iPhone 6s Plus" height="200"></th>
						</tr>
						<tr>
							<th>iPhone 6s Plus</th>
						</tr>
						<tr>
							<th>
								€869.00
							</th>
						</tr>
					</table>
					
					<table style="display: inline-block;">
						<tr>
							<th><img src="../products/phones/iPhone-7.jpg" alt="iPhone-7" title="iPhone 7" height="200"></th>
						</tr>
						<tr>
							<th>iPhone 7 </th>
						</tr>
						<tr>
							<th>
								€779.00
							</th>
						</tr>
					</table>
					 
					<table style="display: inline-block;">
						<tr>
							<th><img src="../products/phones/iPhone-7Plus.jpg" alt="iPhone-7sPlus" title="iPhone 7 Plus" height="200"></th>
						</tr>
						<tr>
							<th>iPhone 7 Plus</th>
						</tr>
						<tr>
							<th>
								€919.00
							</th>
						</tr>
					</table>
					
					<table style="display: inline-block;">
						<tr>
							<th><img src="../products/phones/iPhoneSE.jpg" alt="iPhoneSE" title="iPhone SE" height="200"></th>
						</tr>
						<tr>
							<th>iPhone SE</th>
						</tr>
						<tr>
							<th>
								€499.00
							</th>
						</tr>
					</table>
				</div>
				
				<div class="productCategoryDiv">
					<h1>Televisions</h1>
					<table style="display: inline-block;">
						<tr>
							<th><img src="../products/televisions/tv1.png" alt="TV1" title="Samsung 49" height="200"></th>
						</tr>
						<tr>
							<th>Samsung 49" Curved UHD Smart TV</th>
						</tr>
						<tr>
							<th>
								€759.00
							</th>
						</tr>
					</table>
					
					<table style="display: inline-block;">
						<tr>
							<th><img src="../products/televisions/tv2.png" alt="TV2" title="Finlux 49" height="200"></th>
						</tr>
						<tr>
							<th>Finlux 32" LED TV | FIN32FHA5620 </th>
						</tr>
						<tr>
							<th>
								€399.00
							</th>
						</tr>
					</table>
					 
					<table style="display: inline-block;">
						<tr>
							<th><img src="../products/televisions/tv3.png" alt="TV4" title="LG 55" height="200"></th>
						</tr>
						<tr>
							<th>LG 55" LED TV | 55UH605V </th>
						</tr>
						<tr>
							<th>
								€799.00
							</th>
						</tr>
					</table>
					
					<table style="display: inline-block;">
						<tr>
							<th><img src="../products/televisions/tv4.png" alt="TV4" title="LG 43" height="200"></th>
						</tr>
						<tr>
							<th>LG 43" 4K HDR Smart TV | 43UH603V </th>
						</tr>
						<tr>
							<th>
								€499.00
							</th>
						</tr>
					</table>
					
					<table style="display: inline-block;">
						<tr>
							<th><img src="../products/televisions/tv5.png" alt="TV5" title="Finlux 32" height="200"></th>
						</tr>
						<tr>
							<th>Finlux 49" Full HD LED TV | FIN49FFA4111</th>
						</tr>
						<tr>
							<th>
								€239.00
							</th>
						</tr>
					</table>
				</div>
				
			</div>
			<!-- productsDiv -->
		</div>
		
		<script>
			/* -========- LOGIN BOX JAVASCRIPT -========- */
			var loginBoxDiv = document.getElementById("loginBoxDiv");
			var nameBox = document.getElementById("nameBox");
			var pwdBox = document.getElementById("passwordBox");
			var greeting = document.getElementById("greeting");
			
			function loginMode()
			{
				loginBoxDiv.style.display = "block";
				greeting.style.display = "none";
			}
			
			function greetingMode()
			{
				loginBoxDiv.style.display = "none";
				greeting.style.display = "block";
				var custName = JSON.parse(localStorage.getItem("customer")).name;
				greeting.innerHTML = "Hello, " + custName + ".";
			}
			
			function onLoginButtonClicked()
			{
				// Ensure the user has actually made an account
				var accCreated = !(localStorage.getItem("customer") === null);
				
				if (accCreated) {
					var name = nameBox.value;
					var password = pwdBox.value;
					
					cust = JSON.parse(localStorage.getItem("customer"));
					var validLogin = (name === cust.name && password === cust.password);
					
					console.log("cust name: " + cust.name + " entered name: " + name);
					console.log("cust password: " + cust.password + " entered password: " + password);
					
					if (validLogin) {
						localStorage.setItem("loggedIn", "true");
						alert("Successfully logged in!");
						greetingMode();
					} else {
						alert("Entered name or password was not corect! Please try again.");
					}
				} else {
					alert("You must create an account by signing up before logging in.");
				}
			}
			
			loginButton.addEventListener("click", onLoginButtonClicked);
			
			var accCreated = !(localStorage.getItem("customer") === null);
			var loggedIn = false;
			
			if (accCreated) {
				loggedIn = (localStorage.getItem("loggedIn") === "true");
			}
			
			/* If user is signed in, display greeting */
			/* Otherwise, display login box */
			if (loggedIn) {
				greetingMode();
			} else {
				loginMode();
			}
			
			/* -========- END OF LOGIN BOX JAVASCRIPT -========- */
			
			/* Create products array, initialized with all the products sold here */
			/* Products chosen by the user will be placed in localStorage to
			   be displayed in the cart.html page */
			
			var allProducts = [
				{
					name:"RAVPower 20,100 mAh Portable Charger",
					category:"Accessory",
					price:32.99,
					thumbnail:"charger-1.png"
				},
				
				{
					name:"EasyAcc iChoc 5000 mAh",
					category:"Accessory",
					price:13.99,
					thumbnail:"charger-2.png"
				}
			];
		</script>
	</body>
</html>